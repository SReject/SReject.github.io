{"version":3,"file":"index.js","mappings":"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","sources":["webpack://2dpg-map/./src/components/group/group.css?8ea9","webpack://2dpg-map/./src/components/slider/slider.css?126e","webpack://2dpg-map/./src/control-panel/control-panel.css?1677","webpack://2dpg-map/./src/styles/index.css?59e8","webpack://2dpg-map/./src/components/group/group.ts","webpack://2dpg-map/./src/components/helpers/create.ts","webpack://2dpg-map/./src/components/helpers/toggle-class.ts","webpack://2dpg-map/./src/components/index.ts","webpack://2dpg-map/./src/components/slider/slider.ts","webpack://2dpg-map/./src/control-panel/index.ts","webpack://2dpg-map/./src/control-panel/map-seed/index.ts","webpack://2dpg-map/./src/control-panel/noise-control/index.ts","webpack://2dpg-map/./src/control-panel/water-line/water-line.ts","webpack://2dpg-map/./src/generator/index.ts","webpack://2dpg-map/./src/generator/simplex-2d-noise.ts","webpack://2dpg-map/./src/index.ts","webpack://2dpg-map/webpack/bootstrap","webpack://2dpg-map/webpack/before-startup","webpack://2dpg-map/webpack/startup","webpack://2dpg-map/webpack/after-startup"],"sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import \"./group.css\";\n\nimport toggleCssClass from '../helpers/toggle-class';\nimport createWrapper from '../helpers/create';\n\ninterface GroupOptions {\n    title: string;\n    collapsable?: boolean;\n    children?: HTMLElement[]\n}\n\nexport default class GroupControl {\n    private wrapperElement: HTMLElement;\n    private contentElement: HTMLElement;\n\n    constructor(options: GroupOptions) {\n        const create = createWrapper({\n            type: 'div',\n            prefix: 'group-'\n        });\n\n        if (options.collapsable) {\n            this.wrapperElement = create({\n                preclass: ['wrapper'],\n                class: 'collapsable',\n                children: [\n                    create({\n                        preclass: 'head',\n                        children: [\n                            create({ preclass: 'title', text: options.title })\n                        ],\n                        onclick: (evt: Event) => {\n                            toggleCssClass(this.wrapperElement, 'expand');\n                        }\n                    }),\n                    this.contentElement = create({\n                        preclass: 'content',\n                        children: options.children\n                    })\n                ]\n            });\n        } else {\n            this.wrapperElement = create({\n                preclass: ['wrapper'],\n                children: [\n                    create({\n                        preclass: 'head',\n                        children: [\n                            create({ preclass: 'title', text: options.title })\n                        ]\n                    }),\n                    this.contentElement = create({\n                        preclass: 'content',\n                        children: options.children\n                    })\n                ]\n            });\n        }\n    }\n\n    get element() {\n        return this.wrapperElement;\n    }\n\n    get content() {\n        return this.contentElement;\n    }\n}","interface createWrapperOptions {\n    type?: string;\n    prefix?: string;\n}\n\ntype createOptions = string | Record<string, any>;\n\nexport default (options?: createWrapperOptions) => {\n    let defaultType = 'div',\n        prefix = '';\n\n    if (options != null) {\n        if (options.type != null) {\n            defaultType = options.type;\n        }\n        if (options.prefix != null) {\n            prefix = options.prefix;\n        }\n    }\n\n    return (type?: string | createOptions, options?: createOptions): HTMLElement => {\n        let createType: string,\n            createOptions: createOptions;\n\n        if (type != null && typeof type !== 'string') {\n            createOptions = type;\n            createType = defaultType;\n\n        } else if (type == null) {\n            createType = defaultType;\n\n        } else {\n            createType = type as string;\n            createOptions = options;\n        }\n\n        const ele = document.createElement(createType);\n\n        if (createOptions == null) {\n            return ele;\n        }\n\n        if (typeof createOptions === 'string') {\n            ele.textContent = createOptions;\n            return ele;\n        }\n\n        Object\n            .keys(createOptions)\n            .forEach(key => {\n                let value = createOptions[key];\n\n                if (key === 'class') {\n                    if (typeof value === 'string') {\n                        ele.className = (ele.className.split(' ').concat([value])).join(' ');\n                    } else if (Array.isArray(value)) {\n                        ele.className = (ele.className.split(' ').concat(value)).join(' ');\n                    }\n\n                } else if (key === 'preclass') {\n                    if (typeof value === 'string') {\n                        value = value.split(/\\s+/g);\n                    }\n                    if (Array.isArray(value)) {\n                        let prefixedClasses = value.map((value: string) => prefix + value);\n                        ele.className = (ele.className.split(' ').concat(prefixedClasses)).join(' ');\n                    }\n\n                } else if (key === 'parent') {\n                    value.appendChild(ele);\n\n                } else if (key === 'children') {\n                    value.forEach((child: HTMLElement) => {\n                        ele.appendChild(child);\n                    });\n                } else if (key === 'text') {\n                    ele.textContent = value;\n\n                } else if (key.substring(0, 2) === 'on') {\n                    ele.addEventListener(key.substring(2), value);\n\n                } else {\n                    ele.setAttribute(key, value);\n                }\n            });\n\n        return ele;\n    };\n};","export default (ele: HTMLElement, className: string | string[]) => {\n    if (typeof className === 'string') {\n        className = className.split(' ');\n    }\n\n    const eleClasses = ele.className.split(' ');\n\n    className.forEach(cls => {\n        let idx = eleClasses.indexOf(cls);\n        if (idx === -1) {\n            eleClasses.push(cls);\n        } else {\n            eleClasses.splice(idx, 1);\n        }\n    });\n\n    ele.className = eleClasses.join(' ');\n};","import SliderControl from './slider/slider';\nimport GroupControl from './group/group';\n\nexport {\n    SliderControl as Slider,\n    GroupControl as Group\n};","import \"./slider.css\";\n\nimport createWrapper from '../helpers/create';\n\nexport interface SliderOptions {\n    title: string;\n    description: string;\n\n    minimum: number,\n    maximum: number,\n    steps: number,\n\n    value?: number,\n    onchange?: (value: number) => void;\n};\n\nexport default class Slider {\n    private minimum: number;\n    private maximum: number;\n\n    private container: HTMLElement;\n    private slider: HTMLElement;\n\n    constructor(options: SliderOptions) {\n\n        this.minimum = options.minimum;\n        this.maximum = options.maximum;\n\n        const create = createWrapper({ prefix: 'slider-' });\n\n        const stepSize = (options.maximum - options.minimum) / options.steps;\n\n        let currentValue = options.value != null ? options.value : ((options.maximum - options.minimum) / 2 + options.minimum);\n\n        const eleSliderValue = create({ preclass: 'value', text: currentValue.toString() });\n\n        const onChange = options.onchange || (() => { });\n        const onChangeWrapper = (evt: Event) => {\n            let value = parseFloat((evt.target as HTMLInputElement).value);\n            if (value < this.minimum) {\n                value = this.minimum;\n            } else if (value > this.maximum) {\n                value = this.maximum;\n            }\n\n            if (currentValue !== value) {\n                onChange(value);\n                eleSliderValue.textContent = value.toString();\n                currentValue = value;\n            }\n        };\n\n        this.container = create({\n            preclass: 'wrapper',\n            children: [\n                create({\n                    preclass: 'title-wrapper',\n                    children: [\n                        create({ preclass: 'title', text: options.title }),\n                        eleSliderValue\n                    ]\n                }),\n                create({ preclass: 'description', text: options.description }),\n                create({\n                    preclass: 'container',\n                    children: [\n                        this.slider = create('input', {\n                            type: 'range',\n                            class: 'slider',\n                            min: this.minimum.toString(),\n                            max: this.maximum.toString(),\n                            step: stepSize.toString(),\n                            value: currentValue.toString(),\n                            oninput: onChangeWrapper,\n                            onchange: onChangeWrapper\n                        })\n                    ]\n                })\n            ]\n        });\n    }\n\n    get value(): number {\n        let value = parseFloat((this.slider as HTMLInputElement).value);\n        if (value < this.minimum) {\n            value = this.minimum;\n        } else if (value > this.maximum) {\n            value = this.maximum;\n        }\n        return value;\n    }\n\n    get element(): HTMLElement {\n        return this.container;\n    }\n}","import \"./control-panel.css\";\n\nimport NoiseControl from \"./noise-control/\";\nimport * as mapSeed from './map-seed/';\n\nimport { default as waterLine, WaterLineSettings } from './water-line/water-line';\n\nimport createWrapper from '../components/helpers/create';\nimport { SimplexOptions } from \"src/generator\";\n\n\n\nexport interface MapSettings {\n    seed: string | number;\n    height: SimplexOptions;\n    temperature: SimplexOptions;\n    moisture: SimplexOptions;\n    water: WaterLineSettings;\n}\n\nexport type MapGeneratorFn = (settings: MapSettings) => void;\n\nlet generate: MapGeneratorFn = (settings: MapSettings) => {\n    console.log(settings);\n};\n\nconst heightNoise = new NoiseControl('Height Map');\nconst temperatureNoise = new NoiseControl('Temperature Map');\nconst moistureNoise = new NoiseControl('Moisture Map');\nconst create = createWrapper();\nconst generateButton = create({\n    class: 'generate',\n    children: [\n        create('button', {\n            text: 'Generate',\n            onclick: () => generate(getSettings())\n        })\n    ]\n})\n\nconst controlContainer = document.getElementById('control-panel');\ncontrolContainer.appendChild(generateButton);\ncontrolContainer.appendChild(mapSeed.element);\ncontrolContainer.appendChild(heightNoise.element);\ncontrolContainer.appendChild(temperatureNoise.element);\ncontrolContainer.appendChild(moistureNoise.element);\ncontrolContainer.appendChild(waterLine.element);\n\n\nconst getSettings = (): MapSettings => ({\n    seed: mapSeed.getSettings(),\n    height: heightNoise.getSettings(),\n    temperature: temperatureNoise.getSettings(),\n    moisture: moistureNoise.getSettings(),\n    water: waterLine.getSettings()\n});\n\nexport default getSettings;\n\nexport const setGenerateFn = (generator: MapGeneratorFn) => {\n    generate = generator;\n}","import createWrapper from '../../components/helpers/create';\n\nimport { Group } from '../../components'\n\nconst create = createWrapper({\n    prefix: 'group-'\n});\n\nlet inputElement = create('input', {\n    type: 'text',\n    value: Date.now().toString()\n});\n\nconst group = new Group({\n    title: 'Map Seed',\n    children: [\n        inputElement,\n        create('button', {\n            text: 'R',\n            onclick: () => {\n                (inputElement as HTMLInputElement).value = Math.round(Date.now() * Math.random()).toString();\n            }\n        })\n    ]\n})\n\nexport const element = group.element;\nexport const getSettings = (): string => (inputElement as HTMLInputElement).value;","import { SimplexOptions } from \"../../generator\";\nimport { Slider, Group } from '../../components/';\n\nexport default class NoiseControl {\n    private scale: Slider;\n    private iterations: Slider;\n    private pitch: Slider;\n    private persistence: Slider;\n\n    private container: HTMLElement;\n\n    constructor(title: string) {\n        this.scale = new Slider({\n            title: 'Scale',\n            description: 'How the noise map will scale per pixel. Higher values create more variance',\n            minimum: 0.001,\n            maximum: 0.1,\n            steps: 99,\n            value: 0.005\n        });\n        this.iterations = new Slider({\n            title: 'Smoothing Passes',\n            description: 'The number of smoothing passes',\n            minimum: 1,\n            maximum: 10,\n            steps: 9,\n            value: 3\n        });\n        this.pitch = new Slider({\n            title: 'Frequency Modifier',\n            description: 'Controls the noise frequency used for successive smothing passes.',\n            minimum: 1,\n            maximum: 10,\n            steps: 90,\n            value: 2\n        });\n        this.persistence = new Slider({\n            title: 'Amplitude persistence',\n            description: 'Controls the weight each successive smoothing pass will contribute to the final result',\n            minimum: 0.01,\n            maximum: 2,\n            steps: 199,\n            value: 0.45\n        });\n        this.container = new Group({\n            title: title,\n            collapsable: true,\n            children: [\n                this.scale.element,\n                this.iterations.element,\n                this.pitch.element,\n                this.persistence.element\n            ]\n        }).element;\n    }\n    get element() {\n        return this.container;\n    }\n    getSettings(): SimplexOptions {\n        return {\n            scale: this.scale.value,\n            iterations: this.iterations.value,\n            pitch: this.pitch.value,\n            persistence: this.persistence.value,\n            min: 0,\n            max: 1\n        }\n    }\n}","import { Slider, Group } from '../../components/';\n\nexport interface WaterLineSettings {\n    altitude: number;\n    depthDelta: number;\n    beachDelta: number;\n};\n\nclass WaterLine {\n    private altitude: Slider;\n    private depthDelta: Slider;\n    private beachDelta: Slider;\n\n    private container: HTMLElement;\n\n    constructor() {\n        this.altitude = new Slider({\n            title: 'Altitude',\n            description: 'Height delta at which to stop generating water. Higher values generate more water.',\n            minimum: 0,\n            maximum: 1,\n            steps: 1000,\n            value: 0.35\n        });\n\n        this.depthDelta = new Slider({\n            title: 'Deep Water',\n            description: 'Water depth at which to stop creating deep water. Higher values generate more deep water.',\n            minimum: 0,\n            maximum: 1,\n            steps: 1000,\n            value: 0.8\n        });\n\n        this.beachDelta = new Slider({\n            title: 'Beach Spread',\n            description: 'Controls how far beaches will spread from the shore-line. Higher values generate larger beaches.',\n            minimum: 0,\n            maximum: 1,\n            steps: 1000,\n            value: 0.05\n        });\n\n        this.container = new Group({\n            title: 'Water and Beaches',\n            collapsable: true,\n            children: [\n                this.altitude.element,\n                this.depthDelta.element,\n                this.beachDelta.element\n            ]\n        }).element;\n    }\n    get element() {\n        return this.container;\n    }\n    getSettings(): WaterLineSettings {\n        return {\n            altitude: this.altitude.value,\n            depthDelta: this.depthDelta.value,\n            beachDelta: this.beachDelta.value\n        }\n    }\n};\n\nexport default new WaterLine();","import { default as Simplex2D, Alea } from './simplex-2d-noise';\n\nexport interface SimplexOptions {\n    scale: number,\n    iterations: number,\n    pitch: number,\n    persistence: number\n    min: number,\n    max: number\n};\n\nexport interface MapGeneratorOptions {\n    chunkSize?: number;\n    seed?: number | string;\n    height?: SimplexOptions;\n    temperature?: SimplexOptions;\n    moisture?: SimplexOptions;\n    soil?: SimplexOptions;\n};\n\nexport interface TileNoise {\n    height: number;\n    temperature: number;\n    moisture: number;\n    soil: number;\n};\n\n/** Validates options and then creates a new Simplex2D instance\n *\n * @param mapType Text description of map\n * @param seed Seed of the map to generate\n * @param defaults Default values to use if options is not specified\n * @param options Options to use instead of defaults\n * @returns Simplex2D instance\n */\nconst initializeSymplex = (\n    mapType: string,\n    seed: number | string,\n    defaults: SimplexOptions,\n    options?: SimplexOptions\n): Simplex2D => {\n    if (options == null) {\n        return new Simplex2D(\n            seed,\n            defaults.scale,\n            defaults.iterations,\n            defaults.pitch,\n            defaults.persistence,\n            defaults.min,\n            defaults.max\n        );\n    }\n\n    if (\n        // validate scale\n        typeof options.scale === 'number' &&\n        Number.isFinite(options.scale) &&\n        options.scale > 0 &&\n\n        // validate iterations\n        typeof options.iterations === 'number' &&\n        Number.isInteger(options.iterations) &&\n        options.iterations >= 1 &&\n\n        // validate pitch\n        typeof options.pitch === 'number' &&\n        Number.isFinite(options.pitch) &&\n        options.pitch > 0 &&\n\n        // validate persistence\n        typeof options.persistence === 'number' &&\n        Number.isFinite(options.persistence) &&\n        options.persistence > 0 &&\n\n        // Validate min\n        typeof options.min === 'number' &&\n        Number.isFinite(options.min) &&\n\n        // Validate max\n        typeof options.max === 'number' &&\n        Number.isFinite(options.max) &&\n\n        // validate min v max\n        options.min <= options.max\n    ) {\n        return new Simplex2D(\n            seed,\n            options.scale,\n            options.iterations,\n            options.pitch,\n            options.persistence,\n            options.min,\n            options.max\n        )\n    }\n\n    throw new Error(`invalid ${mapType}-map generation options`);\n};\n\nexport default class MapGenerator {\n\n    public readonly chunkSize: number;\n    public readonly seed: number | string;\n\n    public readonly terrainSurfaceSeed: number | string;\n    public readonly terrainFeatureSeed: number | string;\n\n    public readonly heightSeed: number | string;\n    public readonly temperatureSeed: number | string;\n    public readonly moistureSeed: number | string;\n    public readonly soilSeed: number | string;\n\n    private heightMap: Simplex2D;\n    private temperatureMap: Simplex2D;\n    private moistureMap: Simplex2D;\n    private soilMap: Simplex2D;\n\n    constructor(options?: MapGeneratorOptions) {\n        if (options == null) {\n            options = {};\n        }\n\n        // Resolve and validate chunk size\n        if (options.chunkSize == null) {\n            this.chunkSize = 16;\n        } else if (\n            typeof options.chunkSize !== 'number' ||\n            !Number.isInteger(options.chunkSize) ||\n            options.chunkSize < 1\n        ) {\n            throw new Error('invalid chunk size');\n        } else {\n            this.chunkSize = options.chunkSize;\n        }\n\n        // Resolve and validate seed\n        if (options.seed == null) {\n            this.seed = Date.now().toString();\n        } else if (typeof options.seed !== 'number' && typeof options.seed !== 'string') {\n            throw new Error('invalid map seed');\n        } else {\n            this.seed = options.seed;\n        }\n\n        // Initialize PRNG with map's seed\n        const prng = Alea(this.seed);\n\n        // Generate seeds for terrian surface and features\n        this.terrainSurfaceSeed = prng();\n        this.terrainFeatureSeed = prng();\n\n        // Generate seeds for height, temperature and moisture maps\n        this.heightSeed = prng();\n        this.temperatureSeed = prng();\n        this.moistureSeed = prng();\n        this.soilSeed = prng();\n\n        // Default generator options when not specified\n        const defaultOptions: SimplexOptions = {\n            scale: 0.002,\n            iterations: 5,\n            pitch: 2,\n            persistence: 0.45,\n            min: 0,\n            max: 1\n        };\n\n        // initialize maps\n        this.heightMap = initializeSymplex('height', this.heightSeed, defaultOptions, options.height);\n        this.temperatureMap = initializeSymplex('temperature', this.temperatureSeed, defaultOptions, options.temperature);\n        this.moistureMap = initializeSymplex('moisture', this.moistureSeed, defaultOptions, options.moisture);\n        this.soilMap = initializeSymplex('soil', this.soilSeed, defaultOptions, options.soil);\n    }\n\n    getTile(x: number, y: number): TileNoise {\n        return {\n            height: this.heightMap.noise(x, y),\n            temperature: this.temperatureMap.noise(x, y),\n            moisture: this.moistureMap.noise(x, y),\n            soil: 0 /* this.soilMap.noise(x, y) */\n        };\n    }\n}","/*! License Alea.js prng\n * Derivative Copyright (C) 2022 SReject\n * Derivative Copyright (C) 2021 Jonas Wagner\n * Copyright (C) 2010 by Johannes Baagøe baagoe@baagoe.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/*! License simplex (2d) noise\n * A 2D multi-octave Simplex Noise generator based on Jonas Wagner's simple-noise work\n * - Removes 3D and 4D noise generation as well as supporting code\n * - Exposes Alea PRNG\n * - renames noise2D to noise\n * - Adds multi-octave support\n *\n * Derivative Copyright (c) 2022 SReject\n * Copyright (c) 2021 Jonas Wagner\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst F2 = 0.5 * (Math.sqrt(3.0) - 1.0);\nconst G2 = (3.0 - Math.sqrt(3.0)) / 6.0;\n\nconst grad3 = new Float32Array([1, 1, 0,\n    -1, 1, 0,\n    1, -1, 0,\n    -1, -1, 0,\n    1, 0, 1,\n    -1, 0, 1,\n    1, 0, -1,\n    -1, 0, -1,\n    0, 1, 1,\n    0, -1, 1,\n    0, 1, -1,\n    0, -1, -1\n]);\n\n/**\n * A random() function, must return a numer in the interval [0,1), just like Math.random().\n */\nexport type RandomFn = () => number;\n\nexport const Alea = (seed: string | number): RandomFn => {\n\n    // Masher has been incorporated into Alea initializer\n    // Increases time taken to initialize but reduces memory footprint once initialized\n    let n = 0xefc8249d;\n    let mash = (data: number | string): number => {\n        data = data.toString();\n        for (let i = 0; i < data.length; i++) {\n            n += data.charCodeAt(i);\n            let h = 0.02519603282416938 * n;\n            n = h >>> 0;\n            h -= n;\n            h *= n;\n            n = h >>> 0;\n            h -= n;\n            n += h * 0x100000000; // 2^32\n        }\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n    };\n\n    let s0 = mash(' ');\n    let s1 = mash(' ');\n    let s2 = mash(' ');\n    let c = 1;\n\n    s0 -= mash(seed);\n    if (s0 < 0) {\n        s0 += 1;\n    }\n\n    s1 -= mash(seed);\n    if (s1 < 0) {\n        s1 += 1;\n    }\n\n    s2 -= mash(seed);\n    if (s2 < 0) {\n        s2 += 1;\n    }\n    mash = null;\n\n    return function () {\n        const t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n        s0 = s1;\n        s1 = s2;\n        return s2 = t - (c = t | 0);\n    };\n};\n\n/** 2D Simplex multi-octave noise generator*/\nexport default class SimplexNoise {\n    private p: Uint8Array;\n    private perm: Uint8Array;\n    private permMod12: Uint8Array;\n\n    private scale: number;\n    private iterations: number;\n    private pitch: number;\n    private persistence: number;\n    private min: number;\n    private max: number;\n\n    /** Creates a new `SimplexNoise` instance.\n     * @param randomOrSeed A random number generator or a seed (string|number).\n     * @param scale The base frequency of the noise\n     * @param iterations The number of octaves to iterate through\n     * @param pitch The value each sequential iteration's frequency will be multipled by\n     * @param persistence Affects amplitude(weight) tapering of each successive octave(iteration)\n     * @param min The minimum value that can be returned\n     * @param max The maximum value that can be returned\n     */\n    constructor(\n        randomOrSeed: RandomFn | string | number = Math.random,\n        scale: number = 0,\n        iterations: number = 1,\n        pitch: number = 2,\n        persistence: number = 1,\n        min: number = 0,\n        max: number = 1\n    ) {\n        const random = typeof randomOrSeed == 'function' ? randomOrSeed : Alea(randomOrSeed);\n        this.scale = scale;\n        this.iterations = iterations;\n        this.pitch = pitch;\n        this.persistence = persistence;\n        this.min = min;\n        this.max = max;\n\n        const p = new Uint8Array(256);\n        for (let i = 0; i < 256; i++) {\n            p[i] = i;\n        }\n        for (let i = 0; i < 255; i++) {\n            const r = i + ~~(random() * (256 - i));\n            const aux = p[i];\n            p[i] = p[r];\n            p[r] = aux;\n        }\n        this.p = p;\n\n        this.perm = new Uint8Array(512);\n        this.permMod12 = new Uint8Array(512);\n        for (let i = 0; i < 512; i++) {\n            this.perm[i] = this.p[i & 255];\n            this.permMod12[i] = this.perm[i] % 12;\n        }\n    }\n\n    /** Generates a noise value for the specified point\n     * @param xPos x position to retrieve noise value\n     * @param yPos y position to retrieve noise value\n     * @returns A value within instance's min-max range (inclusive)\n     */\n    noise(xPos: number, yPos: number): number {\n        let frequency = this.scale,\n            freqMod = this.pitch,\n            iterations = this.iterations,\n            persistence = this.persistence,\n            maxAmplitude = 0,\n            amplitude = 1,\n            noise = 0;\n\n        // iterate over each octave\n        while (iterations--) {\n\n            // apply frequency for the octave\n            let x = xPos * frequency,\n                y = yPos * frequency;\n\n            const permMod12 = this.permMod12;\n            const perm = this.perm;\n            let n0 = 0; // Noise contributions from the three corners\n            let n1 = 0;\n            let n2 = 0;\n            // Skew the input space to determine which simplex cell we're in\n            const s = (x + y) * F2; // Hairy factor for 2D\n            const i = Math.floor(x + s);\n            const j = Math.floor(y + s);\n            const t = (i + j) * G2;\n            const X0 = i - t; // Unskew the cell origin back to (x,y) space\n            const Y0 = j - t;\n            const x0 = x - X0; // The x,y distances from the cell origin\n            const y0 = y - Y0;\n            // For the 2D case, the simplex shape is an equilateral triangle.\n            // Determine which simplex we are in.\n            let i1: number,\n                j1: number; // Offsets for second (middle) corner of simplex in (i,j) coords\n            if (x0 > y0) {\n                i1 = 1;\n                j1 = 0;\n            } // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n            else {\n                i1 = 0;\n                j1 = 1;\n            } // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n            // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n            // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n            // c = (3-sqrt(3))/6\n            const x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n            const y1 = y0 - j1 + G2;\n            const x2 = x0 - 1.0 + 2.0 * G2; // Offsets for last corner in (x,y) unskewed coords\n            const y2 = y0 - 1.0 + 2.0 * G2;\n            // Work out the hashed gradient indices of the three simplex corners\n            const ii = i & 255;\n            const jj = j & 255;\n            // Calculate the contribution from the three corners\n            let t0 = 0.5 - x0 * x0 - y0 * y0;\n            if (t0 >= 0) {\n                const gi0 = permMod12[ii + perm[jj]] * 3;\n                t0 *= t0;\n                n0 = t0 * t0 * (grad3[gi0] * x0 + grad3[gi0 + 1] * y0); // (x,y) of grad3 used for 2D gradient\n            }\n            let t1 = 0.5 - x1 * x1 - y1 * y1;\n            if (t1 >= 0) {\n                const gi1 = permMod12[ii + i1 + perm[jj + j1]] * 3;\n                t1 *= t1;\n                n1 = t1 * t1 * (grad3[gi1] * x1 + grad3[gi1 + 1] * y1);\n            }\n            let t2 = 0.5 - x2 * x2 - y2 * y2;\n            if (t2 >= 0) {\n                const gi2 = permMod12[ii + 1 + perm[jj + 1]] * 3;\n                t2 *= t2;\n                n2 = t2 * t2 * (grad3[gi2] * x2 + grad3[gi2 + 1] * y2);\n            }\n\n            // Add contributions from each corner, scale to [-1,1] then multiply by amplitude\n            noise += (n0 + n1 + n2) * 70.0 * amplitude\n\n            // adjust amplitude and frequency values for next octave/iteration\n            maxAmplitude += amplitude;\n            amplitude *= persistence;\n            frequency *= freqMod;\n        }\n\n        // take average then scale to the instances min-max range\n        return (noise / maxAmplitude) * ((this.max - this.min) / 2) + (this.max + this.min) / 2;\n    }\n}","import \"./styles/index.css\";\n\nimport MapGenerator from './generator/';\n\nimport { default as getMapSettings, MapSettings, setGenerateFn } from './control-panel/';\n\nconst canvas = document.querySelector('canvas');\nconst ctx = canvas.getContext('2d');\n\n\nconst generateMap = (settings: MapSettings) => {\n    const waterAltitude = settings.water.altitude;\n    const deepAltitude = waterAltitude * settings.water.depthDelta;\n    const beachAltitude = (1 - waterAltitude) * settings.water.beachDelta + waterAltitude;\n\n    const map = new MapGenerator({ chunkSize: 1, ...settings });\n\n    let x = 0;\n    while (x < 800) {\n        let y = 0;\n        while (y < 800) {\n            const tile = map.getTile(x, y);\n            const transX = x;\n            const transY = 799 - y;\n\n            if (tile.height <= deepAltitude) {\n                ctx.fillStyle = `rgb(0,100,200)`;\n            } else if (tile.height <= waterAltitude) {\n                ctx.fillStyle = `rgb(0,128,255)`;\n            } else if (tile.height <= beachAltitude) {\n                ctx.fillStyle = `rgb(255, 255, 192)`;\n\n            } else {\n                const val = Math.floor(tile.height * 255);\n                ctx.fillStyle = `rgb(${val},${val},${val})`;\n            }\n            ctx.fillRect(transX, transY, 1, 1);\n            y += 1;\n        }\n        x += 1;\n    }\n};\n\nsetGenerateFn(generateMap);\ngenerateMap(getMapSettings());","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}